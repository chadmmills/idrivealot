<%= form_for(@mileage_record, :url => @mileage_record.persisted? ? mileage_record_path(@mileage_record) : mileage_records_path(@mileage_record)) do |f| %>
  <div class="row">
    <div class="small-12 columns">
      <% if @mileage_record.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@mileage_record.errors.count, "Error") %> Were Found:</h2>

          <ul>
          <% @mileage_record.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>
    </div>
  </div>

  <div class="row">
    <div class="small-12 large-5 large-centered columns date-select">
      <%= f.date_select :record_date, order: [:day, :month, :year] %>
    </div>
  </div>
  <div class="row">
    <div class="small-12 large-5 large-centered columns">
      <%= text_field_tag :new_route_description, nil, placeholder: "Enter New Route" %>
    </div>
  </div>
  <div class="row">
    <div class="small-12 large-5 large-centered columns text-center">
      - OR -
    </div>
  </div>
  <div class="row">
    <div class="small-12 large-5 large-centered columns">
      <%= select("mileage_record", "route_description", @routes, {include_blank: "Select Route"} )  %>
    </div>
  </div>
  <div class="row">
    <div class="small-12 large-5 large-centered columns">
      <%= f.number_field :start_mileage, :placeholder => "Enter Start Mileage" %>
    </div>
  </div>
  <div class="row">
    <div class="small-12 large-5 large-centered columns">
      <%= f.number_field :end_mileage, :placeholder => "Enter End Mileage i.e. 34,269" %>
    </div>
  </div>
  <div class="row">
    <div class="small-12 large-5 large-centered columns">
      <% if current_page?(new_mileage_record_path) %>
        <%= f.submit "CREATE MILEAGE ENTRY", :class => "button button-blue" %>
      <% else %>
        <%= f.submit "SAVE", :class => "button button-blue" %>
      <% end %>
    </div>
  </div>
<% end %>
